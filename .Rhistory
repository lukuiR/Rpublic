result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
}
}
dataline[1]
length(dataline)
length(dataline[1])
dataline[1]==NA
dataline[1]=='asdas'
dataline[1]=='NA'
dataline[1]
i=10
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('og:image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
dataline[1]=='NA'
dataline[1]=='Nafwe'
is.na( dataline[1])
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('og:image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
}
}
kk
i=10
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('og:image',thepage)[1]]
thepage
thepage=thepage[grep('image',thepage)[1]]
thepage
thepage = try(readLines(y$web[i]))
thepage
y$web[i]
kk
View(y)
y$web[24]
i=24
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('image',thepage)[1]]
thepage
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
}
}
kk
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
mypattern = 'https://([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https://([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https://',result,'png', sep="")
}
}
kk
result
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
mypattern = 'https://([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https://',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https://([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https://',result,'png', sep="")
}
}
kk
mypattern = 'https://([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
result
mypattern = 'https:// ([^<]*) jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
mypattern = 'https:/([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
result
thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
result
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
result
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
#thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
}
}
result
matches
gsub(mypattern,'\\1',matches)[1]
gsub(mypattern,'\\1',matches)
mypattern = 'https://([^<]*)jpeg'
gsub(mypattern,'\\1',matches)[1]
matches
maches[1]
matches[1]
result = gsub(mypattern,'\\1',matches[1])[1]
result
matches[1]
matches[1,1]
matches[1][1]
matches[[1]]
matches[[[1]]]
matches[[1]]
matches[[1,1]]
matches[[1][1]]
matches[[1]]
result = gsub(mypattern,'\\1',matches[[1]])[1]
result
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
#thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https://([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches[[1]])[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
}
}
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
#thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https://([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches[[1]])[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches[[1]])[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
}
}
kk
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https://([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
}
}
kk
i=24
thepage = try(readLines(y$web[i]))
thepage
mypattern = 'https://([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
dataline[2]
grep('image',thepage)
thepage=thepage[grep('image',thepage)[1]]
thepage
thepage[grep('image',thepage)[2]]
grep('image',thepage)[2]
grep('image',thepage)
kk
y$web[i]
thepage = try(readLines(y$web[i]))
mypattern = '([^<]*)profile_image([^<]*)'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
dataline[2]
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[2]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
if(is.na(result)){
mypattern = '([^<]*)profile_image([^<]*)'
dataline = grep(mypattern,thepage,value=TRUE)
mypattern = 'https:([^<]*)g'
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'g', sep="")
}
}
}
kk
i=24
thepage = try(readLines(y$web[i]))
mypattern = '([^<]*)profile_image([^<]*)'
dataline = grep(mypattern,thepage,value=TRUE)
dataline
mypattern = 'https:([^<]*)g'
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
result
mypattern = 'https:([^<]*)'
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
result
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[2]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
if(is.na(result)){
thepage = try(readLines(y$web[i]))
mypattern = '([^<]*)profile_image([^<]*)'
dataline = grep(mypattern,thepage,value=TRUE)
mypattern = 'https:([^<]*)'
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'g', sep="")
}
}
}
kk
y$web
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[2]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
if(is.na(result)){
thepage = try(readLines(y$web[i]))
mypattern = '([^<]*)profile_image([^<]*)'
dataline = grep(mypattern,thepage,value=TRUE)
mypattern = 'https:([^<]*)'
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'g\', sep="")
}
}
}
i=24
mypattern = '"https:([^<]*)g\"'
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
result
for (i in 1:dim(yd)[1]){
#thepage = readLines(paste('https://en.wikipedia.org/wiki/',yd[i,3],sep=""))
thepage = try(readLines(y$web[i]))
thepage=thepage[grep('image',thepage)[1]]
mypattern = 'https:([^<]*)jpeg'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[2]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'jpeg', sep="")
if(is.na(result)){
mypattern = 'https:([^<]*)png'
dataline = grep(mypattern,thepage,value=TRUE)
dataline[1]
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'png', sep="")
if(is.na(result)){
thepage = try(readLines(y$web[i]))
mypattern = '([^<]*)profile_image([^<]*)'
dataline = grep(mypattern,thepage,value=TRUE)
mypattern = '"https:([^<]*)g\"'
getexpr = function(s,g)substring(s,g,g+attr(g,'match.length')-1)
gg = gregexpr(mypattern,dataline)
matches = mapply(getexpr,dataline,gg)
result = gsub(mypattern,'\\1',matches)[1]
names(result) = NULL
kk[i]=paste('https:',result,'g', sep="")
}
}
}
kk
View(y)
y$logo=kk
leaflet(data = y) %>% addTiles() %>%
addMarkers(~lon, ~lat, popup=paste0(y$nazwa,"<br/><img src = ", y$logo, " Width = 150><br/> <SMALL>source: wikipedia</SMALL> "))
thepage=thepage[grep('member',thepage)[1]]
thepage
thepage = try(readLines(y$web[i]))
i
